---
layout: default
title: "15.1 WP CLI"
published: false
---

# 15.1 WP CLI

[_WP-CLI_](https://wp-cli.org/), the _WordPress Command-Line Interface_ is an incredibly useful tool for those who are comfortable using a command prompt, such as using SSH. Now, I know that's not everyone, but if it is you, then there is so much power at your fingertips. As we finish up this class, I want to share a little bit about this tool.

Usually, this is a tool that would be installed by your Web host for the use of all of their customers, but it is possible if you have SSH access to a server to download it to your account and use it just for yourself. To do that, you would run this command to download using a tool called _curl_ (also available at <https://wp-cli.org/>):

```
curl -O https://raw.githubusercontent.com/wp-cli/builds/gh-pages/phar/wp-cli.phar
```

Or perhaps this command to download using _wget_:

```
wget https://raw.githubusercontent.com/wp-cli/builds/gh-pages/phar/wp-cli.phar
```

Then you can run individual commands using the PHP executable installed by your host. Usually that would look something like this:

```
php wp-cli.phar --info
```

But other times, you will need to specify the path to PHP, such as:

```
/usr/local/php7/bin/php wp-cli.phar --info
```

If your host has installed the WP-CLI for all users, you should be able to run commands more like this:

```
wp --info
```

By the way, _Local_ includes WP-CLI so that you can use it to manage your _Local_ sites.

For the rest of this tutorial, I'm going to use a copy of the WP-CLI installed for all server users, but I'm going to run it using the copy of PHP that our WordPress sites are using, which is what you should do if you decide to follow along on the CIS Student Server with your Tutorial Site or Portfolio Site. I'm going to run that last command this way:

```
/usr/local/php7/bin/php /usr/local/bin/wp --info
```

So, what can you do with the WP-CLI? A better question would be, "what can't you do?" There's a [list of built-in commands](https://developer.wordpress.org/cli/commands/), plus [many plugins add WP-CLI commands](https://make.wordpress.org/cli/handbook/references/tools/) and there are additional packages that can be installed to add other functionality to WP-CLI.

Let's look at a few simple commands that might be super useful.

First of all, note that you should log into SSH and navigate to the base folder of the WordPress installation that you want to manage. For example, I am going to type the following to work on my Tutorial Site:

```
cd www/cis338/tutorial
```

Now I can run commands.

What if I want to update all plugins?

```
/usr/local/php7/bin/php /usr/local/bin/wp plugin update --all
```

Or how about if I want to install a plugin, perhaps Akismet?

```
/usr/local/php7/bin/php /usr/local/bin/wp plugin install akismet
```

Of course, I then need to activate that plugin:

```
/usr/local/php7/bin/php /usr/local/bin/wp plugin activate akismet
```

Perhaps I finally figured out what has been keeping WordPress from generating thumbnail and other scaled-down versions of image uploads and now I need to tell WordPress to generate (or regenerate) those scaled-down versions:

```
/usr/local/php7/bin/php /usr/local/bin/wp media regenerate --yes
```

Or maybe I just want to see a list of all posts on my site:

```
/usr/local/php7/bin/php /usr/local/bin/wp post list
```

Or all comments:

```
/usr/local/php7/bin/php /usr/local/bin/wp comment list
```

Or maybe create a new page (hint: I could even include the path to an HTML file in this command to prepopulate the page with the HTML file):

```
/usr/local/php7/bin/php /usr/local/bin/wp post create --post_type=page --post_title="New Page"
```

There's even [a package called _profile_](https://developer.wordpress.org/cli/commands/profile/) that helps you figure out why WordPress is running slow.

Another interesting command is called [_scaffold_](https://developer.wordpress.org/cli/commands/scaffold/). If you decide to get into plugin or theme development, it can help you by creating the boilerplate code for things like new plugins, new themes, new custom post types, and new taxonomies.

Check this out: you can even use the WP-CLI to [install a fresh copy of WordPress](https://make.wordpress.org/cli/handbook/how-to/how-to-install/)!

Well, I know that was a bit of a whirlwind.
